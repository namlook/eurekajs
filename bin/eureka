#!/bin/sh

mkdir js
mkdir js/client
mkdir public
mkdir public/css
touch public/css/style.css

read -e -p "enter project name " PROJECT_NAME

cat blueprint/package.json.hbs | handlebars --projectName $PROJECT_NAME > package.json

cat blueprint/client.index.js.hbs | handlebars --projectName $PROJECT_NAME > js/client/index.js

read -e -p "enter project URI (http://...) " PROJECT_URI

read -e -p "select server port (4000) " PORT
if [ -z "$PORT" ]; then
    PORT=4000
fi

cat blueprint/server.js.hbs | handlebars --projectName $PROJECT_NAME --projectURI "$PROJECT_URI" --port $PORT > js/server.js
cat blueprint/public.index.html.hbs | handlebars --projectName $PROJECT_NAME > public/index.html

cp -i blueprint/schemas.js js/

#npm install

#(cd public; ln -s ../bower_components .)